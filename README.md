# Vigilant Codex K3a - Polyvalent AI Development Workspace

A sophisticated, AI-agent-enabled development workspace designed for rapid, robust application development across multiple languages, frameworks, and platforms. This workspace provides a comprehensive foundation for building resilient applications with advanced AI collaboration patterns.

## ðŸš€ Workspace Overview

**Vigilant Codex K3a** is a polyvalent development environment that combines:

- **Multi-language architecture** supporting TypeScript, Python, Next.js, and Jupyter notebooks
- **Advanced AI agent collaboration** with stateful memory management
- **Conditional environment frameworks** with runtime decision deferral
- **Native fetch modernization** with comprehensive test coverage (98.34%)
- **Docker orchestration** using Codex Universal environments
- **Sophisticated instruction/prompt system** for automated workflow execution

## ðŸ¤– AI Agent Ecosystem

This workspace supports three AI agents with sophisticated collaboration patterns:

### Primary AI Agents

- **ðŸ§  Cline AI** â†’ [`.clinerules/main-rules.md`](.clinerules/main-rules.md) - Advanced development agent with memory bank integration
- **âš¡ Codex CLI** â†’ [`AGENTS.md`](AGENTS.md) - Terminal-based automation and container orchestration
- **ðŸ’¡ VS Code Copilot** â†’ [`.github/copilot-instructions.md`](.github/copilot-instructions.md) - Code generation with 26 instruction files

### AI Framework Components

- **ðŸ”§ 26 Instruction Files** ([`.github/instructions/`](.github/instructions/)) - Automated coding standards and guidelines
- **âš™ï¸ 27 Prompt Files** ([`.github/prompts/`](.github/prompts/)) - Executable workflow templates
- **ðŸ“š Memory Bank System** ([`memory-bank/`](memory-bank/)) - Stateful documentation for AI collaboration
- **ðŸŽ¯ Self-Documentation Protocol** - Maintains context across development sessions

## ðŸ—ï¸ Architecture Overview

### Polyvalent Directory Structure

```
vigilant-codex-k3a/
â”œâ”€â”€ src/                    # TypeScript/Core Library (Node.js 22, Native Fetch)
â”œâ”€â”€ web/                    # Next.js Applications (when coexisting)
â”œâ”€â”€ python/                 # Python Projects (3.13, Conditional Environments)
â”œâ”€â”€ notebooks/              # Jupyter Notebooks (VS Code Integration)
â”œâ”€â”€ scripts/                # Automation Scripts (Bash, Idempotent)
â”œâ”€â”€ memory-bank/            # AI Agent State Management
â”œâ”€â”€ .github/
â”‚   â”œâ”€â”€ instructions/       # 26 Coding Standards (Auto-Applied)
â”‚   â””â”€â”€ prompts/           # 27 Workflow Automations
â”œâ”€â”€ .clinerules/           # Cline AI Personal Instructions
â””â”€â”€ .vscode/               # VS Code Optimization & Tasks
```

### Technology Stack

- **ðŸŸ¦ TypeScript 5.8+** with strict type checking and native Response types
- **ðŸ Python 3.13** with conditional environment framework (local/docker_isolated/docker_volume)
- **âš›ï¸ Next.js 15+** for web applications with Prisma database integration
- **ðŸ³ Docker** with Codex Universal environments and volume-based development
- **ðŸ”¬ Vitest 3.2.4** with 98.34% branch coverage and comprehensive test isolation
- **ðŸ““ Jupyter Notebooks** with VS Code API integration and ML workflow automation

## ðŸ› ï¸ Quick Start

### Environment Setup

```bash
# 1. Set OpenAI API key for container integration
export OPENAI_API_KEY="your-api-key-here"

# 2. Initialize complete development environment
./scripts/setup_codex_universal.sh

# 3. Start Codex Universal environment
./scripts/codex_start.sh

# 4. Access development shell
./scripts/codex_shell.sh
```

### Conditional Python Environment

```bash
# Runtime environment selection
./scripts/setup_python_env.sh local           # Local virtual environment
./scripts/setup_python_env.sh docker_isolated # Fully containerized
./scripts/setup_python_env.sh docker_volume   # Container + live editing
```

### Web Application Setup

```bash
# Next.js application with database
./scripts/setup_web_env.sh
./scripts/setup_db_prisma.sh
```

## ðŸŽ¯ Key Features & Achievements

### Advanced HTTP Client Architecture

- **âœ… Native Fetch API Migration** - Complete conversion from node-fetch to Node.js 22 native fetch
- **âœ… Zero Regression** - All 259 tests passing with improved performance
- **âœ… Type System Modernization** - Native Response types throughout codebase
- **âœ… Test Infrastructure** - vi.stubGlobal mocking strategy for HTTP client isolation

### Comprehensive Test Coverage

- **âœ… 98.34% Branch Coverage** - Exceeding project requirements (90% threshold)
- **âœ… 259 Tests Passing** - Complete test suite with proper isolation
- **âœ… Edge Case Coverage** - NaN handling, timeout management, error scenarios
- **âœ… CommonJS Compatibility** - Maintained throughout modernization

### Revolutionary Conditional Framework

- **âœ… Parameter-Driven Architecture** - Runtime environment selection without hard-coding
- **âœ… Three Environment Modes** - Local, Docker isolated, Docker volume-mounted
- **âœ… Decision Deferral** - Implementation choices made at execution time
- **âœ… AI Agent Compatible** - Works across all three AI agents

### Memory Bank System

- **âœ… Stateful AI Collaboration** - Persistent context across development sessions
- **âœ… Cross-File Dependencies** - Comprehensive dependency tracking and impact analysis
- **âœ… Self-Documentation Protocol** - Automatic context preservation
- **âœ… Memory Reset Resilience** - Complete project understanding from documentation

## ðŸ“‹ Development Workflows

### AI-Assisted Development

```bash
# Generate TypeScript components with standards
/typescript-component name:MyComponent

# Setup conditional Python environment
/python-environment-setup mode:docker_volume

# Generate comprehensive documentation
/tsdoc-typedoc target:src/

# Validate web app configuration
/validation-debugging-checklist
```

### Container Development

```bash
# Start development environment
./scripts/codex_start.sh

# Rebuild with latest image
./scripts/codex_rebuild.sh

# Stop environment cleanly
./scripts/codex_stop.sh

# Validate setup
./scripts/codex_test.sh
```

### Testing & Quality Assurance

```bash
# Run focused test files (strict policy)
npx vitest run src/tests/restClient.test.ts

# Generate coverage reports
npm run test:coverage

# Validate all environments
./scripts/verify-all.sh
```

## ðŸ“š Documentation System

### Instruction Files (26 Files)

Automated coding standards that apply during AI-assisted development:

- **AI Framework**: ai-instruction-creation, ai-prompt-creation, instruction-authoring-standards
- **Environments**: docker-environment, python-environment-conditional, vscode-notebook-integration
- **Languages**: typescript-standards, python-standards, python-notebook-standards
- **Web Standards**: pwa-manifest, ios-meta-and-links, windows-tiles, theme-ui-meta
- **Quality**: validation-debugging-checklist, self-documentation

### Prompt Files (27 Files)

Executable workflow templates for automated development:

- **Template Management**: template-manager, ai-template-manager, instruction-generator
- **Environment Setup**: codex-universal-environment, python-environment-setup, docker-generator
- **Development**: typescript-component, notebook-development-workflow, web-project-structure
- **Documentation**: memory-bank-update, dependency-management, tsdoc-typedoc
- **Web Standards**: theme-ui-meta, seo-meta-tags, x-cards, general-icon-link-tags

### Memory Bank Files

Stateful documentation for AI agent collaboration:

- **[projectbrief.md](memory-bank/projectbrief.md)** - Foundation and core requirements
- **[systemPatterns.md](memory-bank/systemPatterns.md)** - Architecture and design patterns
- **[activeContext.md](memory-bank/activeContext.md)** - Current work focus and decisions
- **[progress.md](memory-bank/progress.md)** - Achievements and remaining tasks
- **[dependencies.md](memory-bank/dependencies.md)** - Comprehensive dependency tracking

## ðŸ”§ Project Standards

### Development Rules

1. **Script-Driven Setup** - All project operations via idempotent scripts in `scripts/`
2. **Memory Bank Protocol** - All AI agents must read memory bank at session start
3. **Conditional Architecture** - Runtime decisions over hard-coded implementations
4. **Cross-Agent Compatibility** - All configurations work across Cline AI, VS Code Copilot, and Codex CLI
5. **Markdown-Lint Compliance** - All documentation follows strict markdown standards

### Code Organization

- **TypeScript** â†’ `src/` directory with strict type checking
- **Python** â†’ `python/` directory with conditional environments
- **Web Apps** â†’ `web/` directory for Next.js applications
- **Scripts** â†’ `scripts/` directory for automation (bash only)
- **Notebooks** â†’ `notebooks/` directory for Jupyter development

### Quality Requirements

- **98%+ Test Coverage** - Comprehensive test suite with proper isolation
- **Idempotent Scripts** - Safe to run multiple times without side effects
- **Cross-Environment Testing** - Validation across local, Docker, and cloud environments
- **Documentation Completeness** - Every component properly documented with cross-references

## ðŸŒŸ Advanced Capabilities

### VS Code Integration

- **Custom Tasks** - 13 compound tasks for parallel/sequential execution
- **Launch Configurations** - 9 debugging setups with compound debugging
- **Code Snippets** - Python and TypeScript templates
- **Extension Recommendations** - 25+ curated extensions
- **Notebook API** - Advanced Jupyter integration with custom commands

### Docker Orchestration

- **Codex Universal Environment** - Pre-configured Node.js 22 + Python 3.13
- **Volume-Based Development** - Instant file changes without container rebuilds
- **OpenAI API Integration** - Seamless API access within containers
- **Multi-Service Support** - PostgreSQL, Redis, development servers
- **Health Monitoring** - Comprehensive service validation

### Machine Learning Workflows

- **Notebook Specialist Integration** - Advanced Jupyter development with VS Code API
- **Vision Transformer Implementation** - Complete ViT model development workflow
- **Reproducible Research** - Systematic experiment tracking and documentation
- **Performance Profiling** - Memory usage analysis and optimization

## ðŸ“– Usage Patterns

### For New Developers

1. **Read Memory Bank** - Start with [`memory-bank/projectbrief.md`](memory-bank/projectbrief.md)
2. **Setup Environment** - Use `./scripts/setup_codex_universal.sh`
3. **Explore Instructions** - Review [`.github/instructions/README.md`](.github/instructions/README.md)
4. **Try Prompts** - Execute workflows via [`.github/prompts/README.md`](.github/prompts/README.md)

### For AI Agents

1. **Memory Bank Protocol** - Read ALL memory bank files at session start
2. **Apply Instructions** - Use instruction files for consistent code generation
3. **Execute Prompts** - Leverage prompt files for workflow automation
4. **Update Documentation** - Maintain memory bank synchronization

### For Advanced Development

1. **Conditional Environments** - Use runtime parameter selection
2. **Cross-Agent Workflows** - Leverage multiple AI agents for complex tasks
3. **Custom Instructions** - Create domain-specific coding standards
4. **Memory Bank Expansion** - Add specialized documentation for new domains

## ðŸ” Meta-Configuration Reference

For comprehensive platform integration (PWA, iOS, Windows, Chrome Extension), see:

**[when-to-use-what-matrix.instructions.md](.github/instructions/when-to-use-what-matrix.instructions.md)** - One-page matrix mapping all integration goals to their primary configuration files and authoritative sources.

## ðŸ¤ Contributing

### Adding New Components

1. **Follow Standards** - Use existing instruction files for coding standards
2. **Update Memory Bank** - Document architectural decisions and dependencies
3. **Create Tests** - Maintain 98%+ coverage with proper isolation
4. **Script-Driven Setup** - Create idempotent scripts for new functionality

### Expanding AI Framework

1. **Instruction Files** - Use [instruction-generator.prompt.md](.github/prompts/instruction-generator.prompt.md)
2. **Prompt Files** - Use [template-manager.prompt.md](.github/prompts/template-manager.prompt.md)
3. **Cross-References** - Update all relevant README files
4. **Memory Bank Integration** - Maintain dependency tracking

## ðŸ“‹ Validation & Testing

```bash
# Environment validation
./scripts/verify-all.sh

# Test coverage analysis
npm run test:coverage

# Markdown lint compliance
./scripts/check-markdown.sh

# Memory bank consistency
./scripts/check-memory-bank.sh

# Dependency validation
./scripts/check-dependencies.sh
```

## ðŸŽ¯ Success Metrics

- **âœ… 98.34% Branch Coverage** - Comprehensive test suite
- **âœ… 259 Tests Passing** - Zero regression development
- **âœ… Native Fetch Migration** - Modern HTTP client architecture
- **âœ… 53+ Documentation Files** - Complete AI agent ecosystem
- **âœ… 3 AI Agents** - Sophisticated collaboration patterns
- **âœ… Conditional Frameworks** - Runtime decision architecture
- **âœ… Memory Bank System** - Stateful AI development

---

> **Built for AI-Human Collaboration** - This workspace represents a sophisticated foundation for polyvalent application development with advanced AI agent integration, comprehensive testing, and stateful documentation systems.

**Last Updated**: 2025-01-13 | **Status**: Production-Ready | **Coverage**: 98.34%
